let express,Tablas,Detalles;_ff5‍.x([["default",()=>_ff5‍.o]]);_ff5‍.w("express",[["default",["express"],function(v){express=v}]]);_ff5‍.w("../models/Tablas.js",[["default",["Tablas"],function(v){Tablas=v}]]);_ff5‍.w("../models/Detalles.js",[["default",["Detalles"],function(v){Detalles=v}]]);//aqui van las rutas de todo lo relacionado a tabla



const router = express.Router();


//construccion de los links
router.get("/tabla", async (req,res) => {    
    const data = await Tablas.find({});

    res.render("Tablas/tabla", {
        style: 'StyleTabla.css',
        info: data.map((current) => {
            return{
                ID: current.ID,
                Nombre_evento: current.Nombre_evento,
                Fecha_creacion: current.Fecha_creacion,
                Detalle_votacion: current.Detalle_votacion,
                Estado: current.Estado,
                Votar: current.Votar,
            };
        }),
    });
});

router.get("/lugar_votacion",  (req,res)=>{
    res.render("tablas/Lugar_votacion",{
        style: 'CreacionStyle.css'
    });
});
router.get("/detalles/:nombre_evento", async (req,res) => {
    const data = await Detalles.find({Nombre_evento:nombre_evento});
    res.render("tablas/detalles_nominacion", {
        style: 'StyleNominacion.css',
        info: data.map((current) => {
            return{
                Nombre_evento: current.Nombre_evento,
                Persona1: current.Persona1,
                Persona1_votos: current.Persona1_votos,
                Persona2: current.Persona2,
                Persona2_votos: current.Persona2_votos,
                Persona3: current.Persona3,
                Persona3_votos: current.Persona3_votos,
                Estado: current.Estado
            }; 
        }),
    });
});
_ff5‍.d(router);
