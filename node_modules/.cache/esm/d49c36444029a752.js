let express,User;_402‍.x([["default",()=>_402‍.o]]);_402‍.w("express",[["default",["express"],function(v){express=v}]]);_402‍.w("../models/user.js",[["default",["User"],function(v){User=v}]]);


const router = express.Router();

router.get("/profile/:username", (req, res) => {
    res.render("Usuarios/profile");
});

router.get("/register", (req, res) => {
    res.render("Usuarios/register",{
        style : 'styleregister.css'
    });
});

router.post("/register" , (req, res) => {
    User.create(req.body);

    res.render("Usuarios/register",{
        style : 'styleregister.css'
    });
});

router.get("/login", (req, res) => {
    res.render("Usuarios/login",{
        style: 'styleLogin.css'
    });
});

router.get("/list_all", jwtAuthenticated, async (req, res) => {
    const users = await User.find({});
    res.render("user/list_all", {
      allUsers: users.map((current) => {
        return {
          name: current.name,
          lastName: current.lastName,
          email: current.email,
          address: current.address,
          age: current.age,
        };
      }),
    });
  });

_402‍.d(router);
